diff --git a/content/xslt/src/xslt/txFormatNumberFunctionCall.cpp b/content/xslt/src/xslt/txFormatNumberFunctionCall.cpp
--- a/content/xslt/src/xslt/txFormatNumberFunctionCall.cpp
+++ b/content/xslt/src/xslt/txFormatNumberFunctionCall.cpp
@@ -296,7 +296,7 @@
                   (intDigits-1)/groupSize); // group separators
 
     PRInt32 i = bufIntDigits + maxFractionSize - 1;
-    bool carry = (i+1 < buflen) && (buf[i+1] >= '5');
+    bool carry = (0 <= i+1) && (i+1 < buflen) && (buf[i+1] >= '5');
     bool hasFraction = false;
 
     PRUint32 resPos = res.Length()-1;
